---
import { getLangFromUrl, useTranslatedPath } from '../i18n/utils';
import Argentina from './icons/Argentina.astro';
import UnitedStates from './icons/UnitedStates.astro';

const LANGUAGES = {
  en: {
    label: "English",
    icon: UnitedStates,
  },
  es: {
    label: "Espa√±ol",
    icon: Argentina,
  },
};

const lang = getLangFromUrl(Astro.url);  
const translatePath = useTranslatedPath(lang);
---

<ul class="flex p-5 rounded-full gap-2">
  {Object.entries(LANGUAGES).map(([languageCode, { icon: Icon }]) => (
    <li>
      <a
        href={translatePath('/', languageCode)}
        class={`block hover:scale-110 transition rounded`}
      >
        <Icon class=` w-8 h-8 ${languageCode === lang ? 'border-4 border-blue-500 rounded-full' : ''}` />
      </a>
    </li>
  ))}
</ul>

<style>
  ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    align-items: center;
  }
</style>
